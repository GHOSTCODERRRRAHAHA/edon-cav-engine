<?xml version="1.0"?>
<mujoco model="simple_humanoid">
  <option timestep="0.01" gravity="0 0 -9.81" integrator="RK4"/>
  
  <asset>
    <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1="0.1 0.2 0.3" rgb2="0.2 0.3 0.4"/>
    <material name="grid" texture="grid" texrepeat="1 1" texuniform="true" reflectance="0.2"/>
    <material name="body" rgba="0.7 0.7 0.8 1"/>
  </asset>
  
  <worldbody>
    <light pos="0 0 4" dir="0 0 -1"/>
    <geom name="floor" type="plane" size="10 10 0.1" material="grid" condim="3" friction="1 0.005 0.0001"/>
    
    <!-- Torso -->
    <body name="torso" pos="0 0 1.0">
      <joint name="root_x" type="slide" axis="1 0 0" damping="20"/>
      <joint name="root_y" type="slide" axis="0 1 0" damping="20"/>
      <joint name="root_z" type="slide" axis="0 0 1" damping="20"/>
      <joint name="root_rot_x" type="hinge" axis="1 0 0" damping="5"/>
      <joint name="root_rot_y" type="hinge" axis="0 1 0" damping="5"/>
      <joint name="root_rot_z" type="hinge" axis="0 0 1" damping="5"/>
      <geom name="torso_geom" type="box" size="0.15 0.1 0.2" mass="10" material="body"/>
      <inertial pos="0 0 0" mass="10" diaginertia="0.5 0.5 0.5"/>
      
      <!-- Left leg -->
      <body name="left_thigh" pos="0.05 -0.05 -0.2">
        <joint name="left_hip_x" type="hinge" axis="1 0 0" range="-1.57 1.57" damping="3"/>
        <joint name="left_hip_y" type="hinge" axis="0 1 0" range="-1.57 1.57" damping="3"/>
        <geom name="left_thigh_geom" type="capsule" size="0.05" fromto="0 0 0 0 0 -0.3" mass="3" material="body"/>
        <body name="left_shank" pos="0 0 -0.3">
          <joint name="left_knee" type="hinge" axis="0 1 0" range="-2.0 0" damping="3"/>
          <geom name="left_shank_geom" type="capsule" size="0.04" fromto="0 0 0 0 0 -0.3" mass="2" material="body"/>
          <body name="left_foot" pos="0 0 -0.3">
            <geom name="left_foot_geom" type="box" size="0.08 0.04 0.02" mass="1" material="body"/>
          </body>
        </body>
      </body>
      
      <!-- Right leg -->
      <body name="right_thigh" pos="0.05 0.05 -0.2">
        <joint name="right_hip_x" type="hinge" axis="1 0 0" range="-1.57 1.57" damping="3"/>
        <joint name="right_hip_y" type="hinge" axis="0 1 0" range="-1.57 1.57" damping="3"/>
        <geom name="right_thigh_geom" type="capsule" size="0.05" fromto="0 0 0 0 0 -0.3" mass="3" material="body"/>
        <body name="right_shank" pos="0 0 -0.3">
          <joint name="right_knee" type="hinge" axis="0 1 0" range="-2.0 0" damping="3"/>
          <geom name="right_shank_geom" type="capsule" size="0.04" fromto="0 0 0 0 0 -0.3" mass="2" material="body"/>
          <body name="right_foot" pos="0 0 -0.3">
            <geom name="right_foot_geom" type="box" size="0.08 0.04 0.02" mass="1" material="body"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>
  
  <actuator>
    <!-- Reduced gear ratios to prevent instability -->
    <motor name="root_x" joint="root_x" gear="10"/>
    <motor name="root_y" joint="root_y" gear="10"/>
    <motor name="root_z" joint="root_z" gear="10"/>
    <motor name="root_rot_x" joint="root_rot_x" gear="5"/>
    <motor name="root_rot_y" joint="root_rot_y" gear="5"/>
    <motor name="root_rot_z" joint="root_rot_z" gear="5"/>
    <motor name="left_hip_x" joint="left_hip_x" gear="20"/>
    <motor name="left_hip_y" joint="left_hip_y" gear="20"/>
    <motor name="left_knee" joint="left_knee" gear="20"/>
    <motor name="right_hip_x" joint="right_hip_x" gear="20"/>
    <motor name="right_hip_y" joint="right_hip_y" gear="20"/>
    <motor name="right_knee" joint="right_knee" gear="20"/>
  </actuator>
</mujoco>

